<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>archive_b | Siyuan&#39;s Blog</title>
  <meta name="author" content="Siyuan Ma">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  
  <meta property="og:site_name" content="Siyuan&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  <link href="/favicon.png" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Siyuan&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-53194757-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <header id="header" class="inner"><div class="alignleft">
  <h1><a href="/">Siyuan&#39;s Blog</a></h1>
  <h2><a href="/"></a></h2>
</div>
<nav id="main-nav" class="alignright">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
  <div id="content" class="inner">
    <div id="main-col" class="alignleft"><div id="wrapper">
<h2 class="archive-title">2014</h2>


  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-26T11:04:08.000Z"><a href="/2014/07/26/LevelDB-Anatomy/">Jul 26 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/26/LevelDB-Anatomy/">LevelDB Anatomy</a></h1>
  

    </header>
    <div class="entry">
      
        
      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  
    <article class="post">
  
  <div class="post-content">
    <header>
      
        <div class="icon"></div>
        <time datetime="2014-07-22T08:31:25.000Z"><a href="/2014/07/22/Put-my-blog-upon-a-Hexo/">Jul 22 2014</a></time>
      
      
  
    <h1 class="title"><a href="/2014/07/22/Put-my-blog-upon-a-Hexo/">Put my blog upon a Hexo</a></h1>
  

    </header>
    <div class="entry">
      
        <p><a href="http://hexo.io/" target="_blank" rel="external">Hexo</a> is a blog framework powered by <a href="http://nodejs.org/" target="_blank" rel="external">Node.js</a>. The framework is fast due to the node engine and its static content generation. Its simplicity of usage allows me to focus on the content instead of the framework itself. Many useful features are also immediately available in the same package. One feature I enjoy is the capability to deploy the content directly to a Github project. This post will cover some features that I am interested in and record several customizations that I made for my blog.</p>
<h2 id="Quick_Start">Quick Start</h2>
<h3 id="Basic_Usage">Basic Usage</h3>
<p><a href="http://hexo.io/docs/" target="_blank" rel="external">Here</a> is the official tutorial. </p>
<h3 id="Deployment">Deployment</h3>
<p>To deploy the blog automatically, one needs only to edit the <em>_config.yml</em>. If you are using Github, at the deploy section, set</p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="label">deploy:</span></div><div class="line">  type: github</div><div class="line">  repo: git@github<span class="preprocessor">.com</span>:username/username<span class="preprocessor">.github</span><span class="preprocessor">.io</span><span class="preprocessor">.git</span></div></pre></td></tr></table></figure>

<p>Here <strong>username.github.io</strong> is a Github Page project, which is also an accessible domain name. Note the <em>username</em> is your Github account name, and the project name has to be <strong>username.github.io</strong> to enable the Github Page. Once everything is ready, type the following commands. The blog content will be pushed to your Github Page project.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">hexo generate</div><div class="line">hexo deploy -m <span class="string">"init"</span></div></pre></td></tr></table></figure>

<h2 id="Customization">Customization</h2>
<h3 id="Theme">Theme</h3>
<p>The default <em>landscape</em> theme is a little too fancy to me. So I decide to switch back to the previous default theme - <em>light</em>. As mentioned in the <em>_config.yml</em>, most themes can be found in <a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="external">https://github.com/hexojs/hexo/wiki/Themes</a>. Pull the <em>light</em> theme from its Github repo to <strong>themes/light</strong>. Then update <em>_config.yml</em></p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">theme</span>: <span class="string">light</span></div></pre></td></tr></table></figure>

<p>Unfortunately, the light theme has some compatibility issues with version <em>2.8.0</em>. So I deleted the <strong>themes/light/languages</strong> folder for a quick fix. Now re-generate the content, the new theme will be ready.</p>
<h4 id="Widget"><strong>Widget</strong></h4>
<p>To change the widgets on the page, edit <em>themes/light/_config.yml</em></p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">widgets:</div><div class="line">-<span class="ruby"> search</span></div><div class="line">-<span class="ruby"> category</span></div><div class="line">-<span class="ruby"> tag</span></div><div class="line">-<span class="ruby"> tagcloud</span></div></pre></td></tr></table></figure>

<h4 id="Google_Analytics"><strong>Google Analytics</strong></h4>
<p>In the same config file, simply add your tracking ID</p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">google_analytics</span>: <span class="string">Tracking-ID</span></div></pre></td></tr></table></figure>

<h4 id="Adjust_Layout"><strong>Adjust Layout</strong></h4>
<p>I would like to have the sidebar in theme <em>light</em> taking less space. To achieve this adjustment, two css files need to be modified. One defines the main column width in <strong>light/source/css/_base/layout.styl</strong>:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="id">#main-col</span></div><div class="line">  <span class="tag">width</span> 950<span class="tag">px</span></div><div class="line">  <span class="at_rule">@<span class="keyword">media</span> screen and (max-width: <span class="number">1260</span>px)</span></div><div class="line">    width <span class="number">100</span>%</div><div class="line">    margin-right -<span class="number">250</span>px</div><div class="line">  @media screen and (max-width: <span class="number">950</span>px)</div><div class="line">    margin-right <span class="number">0</span></div><div class="line">    float none</div><div class="line">#wrapper</div><div class="line">  @media screen and (max-width: <span class="number">1260</span>px)</div><div class="line">    margin-right <span class="number">250</span>px</div><div class="line">  @media screen and (max-width: <span class="number">950</span>px)</div><div class="line">    margin-right <span class="number">0</span></div></pre></td></tr></table></figure>

<p>Another defines sidebar width in <strong>light/source/css/_partial/sidebar.styl</strong>:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">width</span> 220<span class="tag">px</span></div><div class="line">  <span class="tag">line-height</span> 1<span class="class">.8em</span></div><div class="line">  <span class="at_rule">@<span class="keyword">media</span> screen and (max-width: <span class="number">950</span>px)</span></div></pre></td></tr></table></figure>

<p>These modifications shrinks the width of the sidebar by 50px. The last step is to commit the change in the <em>light</em> theme folder, then we can re-deploy the website and witness the layout change. </p>
<h3 id="Add_an_About_Page">Add an About Page</h3>
<p>The command below will create a folder <strong>source/about</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo new page <span class="string">"about"</span></div></pre></td></tr></table></figure>

<p>Edit the <em>about/index.md</em> file to change the content. To make the page visible, modify <em>_config.yml</em> under the theme folder</p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">menu</span>:</div><div class="line">  Home: /</div><div class="line">  Archives: /archives</div><div class="line">  About: /<span class="keyword">about</span></div></pre></td></tr></table></figure>

<h3 id="Add_Sitemap_Plugin">Add Sitemap Plugin</h3>
<p>First install the plugin with <em>npm</em></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install hexo-generator-sitemap</div></pre></td></tr></table></figure>

<p>Then enable the plugin in the root <em>_config.yml</em> by adding the following lines</p>
<figure class="highlight markup"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="preprocessor"># Plugins</span></div><div class="line">plugins:</div><div class="line">  - hexo-generator-sitemap</div></pre></td></tr></table></figure>

<p>At last, clean the cache and re-generate the content</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo clean && hexo generate</div></pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <aside id="sidebar" class="alignright">
  <div class="search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="search">
    <input type="hidden" name="q" value="site:s1van.github.io/">
  </form>
</div>

  

  
<div class="widget tag">
  <h3 class="title">recent_posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/2014/07/26/LevelDB-Anatomy/">LevelDB Anatomy</a>
      </li>
    
      <li>
        <a href="/2014/07/22/Put-my-blog-upon-a-Hexo/">Put my blog upon a Hexo</a>
      </li>
    
  </ul>
</div>


  
<div class="widget tag">
  <h3 class="title">tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/db/">db</a><small>1</small></li>
  
    <li><a href="/tags/tutorial/">tutorial</a><small>1</small></li>
  
  </ul>
</div>


  
<div class="widget tagcloud">
  <h3 class="title">tagcloud</h3>
  <div class="entry">
    <a href="/tags/db/" style="font-size: NaNpx;">db</a><a href="/tags/tutorial/" style="font-size: NaNpx;">tutorial</a>
  </div>
</div>

</aside>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Siyuan Ma
  
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>




<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>

</body>
</html>